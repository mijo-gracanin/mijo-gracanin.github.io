<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="MijoCoder"/><link rel="canonical" href="https://mijo-gracanin.github.io/posts/blogging-with-publish"/><meta name="twitter:url" content="https://mijo-gracanin.github.io/posts/blogging-with-publish"/><meta name="og:url" content="https://mijo-gracanin.github.io/posts/blogging-with-publish"/><title>Blogging with Publish | MijoCoder</title><meta name="twitter:title" content="Blogging with Publish | MijoCoder"/><meta name="og:title" content="Blogging with Publish | MijoCoder"/><meta name="description" content="Experience in using Publish"/><meta name="twitter:description" content="Experience in using Publish"/><meta name="og:description" content="Experience in using Publish"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to MijoCoder"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">MijoCoder</a><nav><ul><li><a href="/posts" class="selected">Posts</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>Blogging with Publish</h1><p><a href="https://github.com/JohnSundell/Publish">Publish</a> is a static site generator written in Swift üéâ, thanks to <a href="https://swiftbysundell.com/">John Sundell</a> ‚ù§Ô∏è</p><p>Compared with blogging platforms like blogger.com (which I used for mijocoder.blogspot.com), it requires more involvement to create a blog, to publish something, and it has fewer features. On the other hand, you can make what's missing in Swift and have a blog without bloat code, tracking, and cookies.</p><h2>How to create a blog with Publish</h2><p>The official <a href="https://github.com/JohnSundell/Publish/blob/master/README.md">README</a> gives enough information to get started so I'll summarise steps:</p><ol><li>Setup Publish and create a project by following the official <a href="https://github.com/JohnSundell/Publish#quick-start">quick start</a>.</li><li>Open the project and run it in order to generate a site. Generated site will be in <code>Output</code> folder.</li><li>Test the site localy by running <code>publish run</code> from the project's path.</li><li>If you're satisfied with the site, deploy it! <br/> You can configure the deployment task in Publish or upload the contents of the <code>Output</code> folder to the server. One solid choice for hosting is (GitHub pages)(https://pages.github.com/). With GitHub pages, you can copy the contents of the <code>Output</code> folder to a GitHub page repository, commit &amp; push.</li></ol><h2>Blog customizations</h2><p>With a custom theme file, you can define structure and elements of the site. The easiest way to start with your custom theme is to copy:</p><p><code>Publish/Sources/Publish/API/Theme+Foundation.swift</code> into a new file:</p><p><code>MyBlog/Sources/MyBlog/Theme+MyBlog.swift</code></p><p>also copy:</p><p><code>Publish/Resources/FoundationTheme/styles.css</code> into:</p><p><code>MyBlog/Resources/MyBlogTheme/styles.css</code></p><p>finally, update relevant parts in Theme+MyBlog.swift:</p><pre><code><span class="swift_keyword">extension</span> <span class="swift_type">Theme</span> <span class="swift_keyword">where</span> <span class="swift_type">Site</span> == <span class="swift_type">MyBlog</span> {
    <span class="swift_keyword">static var</span> myBlog: <span class="swift_type">Self</span> {
        <span class="swift_type">Theme</span>(htmlFactory: <span class="swift_type">BlogHTMLFactory</span>(),
              resourcePaths: [<span class="swift_string">"Resources/MyBlogTheme/styles.css"</span>]
        )
    }
}
</code></pre><p>Now let's look into some how-tos as an appendix to the <a href="https://github.com/JohnSundell/Publish/blob/master/README.md#start-out-simple-and-customize-when-needed">official examples</a>.</p><br/><h3>Add a favicon</h3><p>A favicon is a small image of 32x32 px, usually shown along with a page name in a browser's tab. By default, the favicon's path is <code>image/favicon.png</code>, so crate the <code>image</code> folder inside the Resources folder and add a favicon.</p><br/><h3>Create an About page</h3><p>The initial project has only one section - <code>posts</code>. So let's add the <code>about</code> case to <code>SectionID</code> in <code>main.swift</code>:</p><pre><code><span class="swift_keyword">enum</span> SectionID: <span class="swift_type">String</span>, <span class="swift_type">WebsiteSectionID</span> {
    <span class="swift_comment">// Add the sections that you want your website to contain here:</span>
    <span class="swift_keyword">case</span> posts
    <span class="swift_keyword">case</span> about
}
</code></pre><p>Next, create a subfolder <code>about</code> in the <code>Content</code> folder with a <code>index.md</code> inside it. The <code>index.md</code> represents the "content". Now, what's interesting, if you add some text like:</p><pre><code># <span class="swift_type">Foo
Bar</span>
</code></pre><p>You will notice that the title of the About section in the header has changed to "Foo", and the page only shows the title "Foo". The "Bar" is not rendered. If you remove the <code># Foo</code>, the section's title becomes "index" and the page shows just "index". That's how Publish works internally - if there is no title, it makes one from the file's name.</p><p>In order to show the "Bar", replace <code>H1(section.title)</code> with <code>Div(section.body).class("content")</code> in the <code>Theme+MyBlog.swift</code>. If we want to generate section title in the header from the <code>SectionID</code> value, replace <code>Link(section.title</code> with <code>Link(section.id.rawValue.capitalized</code>.<br><br/></p><h3>Change how multiline blockquotes are converted into HTML</h3><p>The default logic removes newline characters and joins all lines. So, for example, the following markup:</p><pre><code>&gt; <span class="swift_type">One</span>
&gt; <span class="swift_type">Two</span>
&gt; <span class="swift_type">Three</span>
</code></pre><p>is turned into:</p><p><code>&lt;blockquote&gt;&lt;p&gt;One Two Three&lt;/p&gt;&lt;/blockquote&gt;</code> instead of:</p><p><code>&lt;blockquote&gt;&lt;p&gt;One&lt;/p&gt;&lt;p&gt;Two&lt;/p&gt;&lt;p&gt;Three&lt;/p&gt;&lt;/blockquote&gt;</code></p><p>To change this behavior, we need to modify the Ink package like <a href="https://github.com/mijo-gracanin/Ink/pull/1">this</a>. The remote dependencies are read-only and Ink is a dependency of Publish, so we need to clone both repositories and reference the local Publish package, and then in local Publish, we need to reference the local Ink package.</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/blog">blog</a></li><li><a href="/tags/publish">publish</a></li><li><a href="/tags/swift">swift</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>